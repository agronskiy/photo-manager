\section{Пользование программой}

В этом разделе будет рассмотрена работа с программой в нормальном
режиме.
%\begin{center}
%\includegraphics[width=90mm]{img/overall.jpg} \\
%\mycap{Общий вид программы}
%\end{center}

\centpic{img/overall.jpg}{Общий вид программы}

\subsection{Изображения}

\subsubsection{Загрузка изображений в базу данных}

Процесс загрузки изображений неразрывно связан с созданием
\emph{папки (инвентарного номера)} в базе данных (ничего общего с
папкми/директориями на диске!).

Папка~--- это логическая структура в базе данных, которая
<<содержит>> набор изображений. Отношение <<содержит>> в данном
случае~--- не более чем логическая связь, призванная облегчить
оринтирование среди тысяч фотографий. Условимся в дальнейшем
называть <<папкой>> такую структуру в базе данных, а
<<директорией>>~--- директорию на диске рабочего компьютера.

Создание папки: \textbf{Файл \arr\ Создать новую папку}. Вам будет
предложено (рис.~\ref{newf}) выбрать различные параметры, в том
числе директорию на диске, откуда будут загружены изображения, и
другие атрибуты создаваемой папки.

\centpic[\label{newf}]{img/newfold.jpg}{Создание новой папки}

\begin{prim} \label{prim_o_popapkah} Допускается загрузка изображений из директории,
содержащей в себе другие директории. В этом случае изображения будут
загружены из них тоже (в ту же самую папку!) \end{prim}

\begin{prim}Процесс загрузки остановить штатными средствами невозможно, так
как его прерывание может привести к недозагрузке в БД некоторых
данных. Это не аварийно, но <<мусор>> в БД останется.\end{prim}

\subsubsection{Работа с загруженными изображениями}

После загрузки изображений в БД становится возможным производить с
ними определенные действия:

\begin{itemize}
    \item Изменение метаданных изображениям (индивидуально/в группе)
    \item Присвоение категорий изображениям (индивидуально/в группе)
    \item Сохранение изображений на локальную машину (одно
    изображение/группу изображений/всю папку)
\end{itemize}

Присвоение метаданных осуществляется путем выделения нужного (или
нескольких) изображений в рабочем поле и затем~--- переходом во
вкладку <<Метаданные>> слева (рис. \ref{meta_img}).Интерфейс понятен
интуитивно.
\centpic[\label{meta_img}]{img/metaimg.jpg}{Вкладка
метаданных}

\begin{prim} \label{opisanie}
    Флажок <<заменить описание/добавить в конец>> применяется,
    например, в том случае, если редактор желает добавить свое
    описание к нескольким изображениям, не стирая при этом
    существующие.
\end{prim}

Присвоение категорий осуществляется почти так же~--- во вкладке
<<Присвоение категорий>>. Возможно групповое присвоение категорий.

\begin{prim}
    Третье, промежуточное состояние флажка при присвоении категорий означает
    буквально <<оставить все как было>>.
\end{prim}

Сохранение изображений на локальную машину в версии \PM{} 1.2 осущствляется
двумя способами:
\begin{itemize}
    \item \textbf{Файл \arr\ Сохранить выделенные изображения на диск}. Эта
    операция сохранит все выделенные в рабочей области изображения на локальный
    диск.
    \item \textbf{Файл \arr\ Сохранить папку на диск}. Аналогично, но сохраняет
    выделенную во вкладке <<Папки>> папку на диск в виде директории с
    поддиректориями (если имеются, см. примечание на стр.
    \pageref{prim_o_popapkah}).
\end{itemize}
\begin{prim}
    Администратором системы данная возможность сохранения может быть отключена,
    либо установлен максимальный
    размер сохраняемого изображения (подробнее см. раздел \ref{admin_section} <<Администрирование
    системы>>).
\end{prim}

\subsubsection{Поиск и просмотр изображений}

Когда фотография, будучи загруженной в базу данных, грамотно каталогизирована и
ей присвоено хорошее описание, ее довольно легко найти.

В \PM\ существует несколько заложенных в нее способов найти нужное изображение.
\begin{itemize}
    \item Полнотекстовый поиск (\textbf{Вид \arr\ Поиск...})~--- позволяет
    осуществлять полнотекстовый поиск по всем словам (логическая связка <<И>>),
    указанным в запросе. Поиск нечусвителен к регистру, а также к падежным
    изменениям окончаний слов (русских). Поиск ведется по полям <<Имя файла>>,
    <<Заголовок>> и <<Описание>> метаданных изображения
    \item Поиск по ID (\textbf{Вид \arr\ Поиск по ID ...})~--- быстрый поиск
    конкретного изображения по его внутреннему ID. Последний можно узнать из
    метаданных изображения.
    \item Во вкладке <<Категории>>.
\end{itemize}

Просмотр изображений производится по нажатию \texttt{Enter}, либо по двойному
щелчку. Выход~--- \texttt{Esc}. Правый щелчок на изображении при просмотре
открывает контектсное меню с функциями \textbf{Увеличить}, \textbf{Уменьшить},
\textbf{Оригинальный размер}, \textbf{Подстроить под размер окна}.

\subsection{Интерфейс}

\subsubsection{Вкладка <<Категории>>}
\centpich[\label{img_cat}]{img/vkladka_cat.jpg}{Вкладка категорий} Показана на
рис.\ref{img_cat}. Обладает интуитивно ясным интерфейсом.

Числовое значение после имени категории означает количество изображений в ней
(изображения в подкатегориях \textbf{не} учитываются). Знак <<$\sim$>> перед
числом указывает на то, что возможна (маловероятная) ошибка в определении
данного значения. Количество изображений в категориях можно пересчитать,
воспользовавшись пунктом меню \textbf{Вид \arr\ Обновить категории}

\begin{prim}
    Появление ошибки может произойти на этапе присвоения категории и связано с тем,
    что одновременно над
    присвоением \textbf{этой же} категории могут работать и другие редакторы.
    Естественно, ошибка такого рода маловероятна, а после персчета значения
    станут точными и достоверными. Тем не менее, \PM\ предупреждает редактора
    о возможной ошибке, если ему по той или иной причине важно знать точное
    значение.
\end{prim}
\subsubsection{Вкладка <<Метаданные>>}
\centpich[\label{img_meta}]{img/vkladka_meta.jpg}{Вкладка метаданных} Показана
на рис.\ref{img_meta}

Состоит из секций:

\textbf{Общая информация:}
\begin{itemize}
    \item ID~--- внутренний уникальный номер изображения в системе \PM.
    \item Имя файла~--- имя файла, \textbf{с которого сделана копия} при загрузке в
    систему.
    \item Заголовок~--- отображается в рабочей области под уменьшенными
    изображениями
    \item Дата съемки. Дата съемки не связана с аналогичным полем <<папки>>
\end{itemize}

\textbf{Описание:}
\begin{itemize}
    \item Описание~--- подробнее о присовении описаний см.
    стр.\pageref{opisanie}.
\end{itemize}

\textbf{Принадлежит к:} Указывает на принадлежность к категориям.

\textbf{Папка:} информация о соответствующей <<папке>>
\begin{itemize}
    \item Папка~--- <<папка>>, в составе которой изображение было загружено в
    систему
    \item Подпапка
    \item Тип~--- тип папки (подробнее см. раздел \ref{papki} о <<Папках>>)
    \item Автор~--- автор соответствующей <<папки>>.
\end{itemize}

\subsubsection{Вкладка <<Назначить категории>>}
\centpich[\label{img_prisv}]{img/vkladka_prisv.jpg}{Вкладка присвоения
категорий}
Показана на рис.~\ref{img_prisv}

Стоит отметить возможность поиска (по части названия) нужных категорий.
После ввода нужного слова нажмите \textbf{Поиск}. Программа найдет первую категорию,
содержащую это слово. При нажатии кнопки \textbf{Следующая} происходит раскрытие и подсвечивание
следующей категории.

\subsubsection{Вкладка <<Папки>>} \label{papki}
\centpich[\label{img_papki}]{img/vkladka_papki.jpg}{Вкладка <<Папки>>}
Показан на рис.~\ref{img_papki}

Содержит список присутствующих в системе <<папок>> и их данные:
\begin{itemize}
    \item Тип~--- поле, отображающее тип изображений в составе этой папки
    (напр. <<Репортаж>>, <<Художественная>>, <<Портрет>>)
    \item Цвет~--- цветные/ч-б/неорпеделенный
    \item Название~--- краткое название
    \item Заголовок
    \item Автор
    \item Заметки~--- любые комментарии, связанные с данной <<папкой>>
    \item Дата
    \item Внутреннее пользование~--- флажок не несет \textbf{никакой} (в версии
    1.2) функциональной нагрузки, служит лишь напоминанием (если установлен),
    что изображения из данной <<папки>> для внутреннего пользования.
\end{itemize}
