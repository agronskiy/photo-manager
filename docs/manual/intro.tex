\section{Основные принципы работы программы \PM}

\subsection{Введение}

\PM~--- программный продукт, предназначенный для каталогизации,
рубрикации и ведения различного рода работ при управлении
фотоархивом,  обладающий при этом следующими преимуществами:

\begin{itemize}
    \item ориентированность на сетевой режим работы
    \item централизованная архитектура (модель клиент-сервер),
    позволяющая осуществлять масштабирование для работы как в малом
    коллективе с 3-4 рабочими станциями, так и в крупной сети с
    десятками компьютеров
    \item разделение функций <<редактора фотоархива>> и <<клиента>>
    \item незагруженность ненужными для каталогизации функциями
    \item кроссплатформенность (поддерживаются платформы Windows
    XP/Vista, Unix/Linux, Mac OS X)
\end{itemize}

\subsection{Принципы работы}

По своей сути \PM{} является клиентской частью для обращения к
серверу базы данных PostgreSQL (версии 8.3 и выше), и использует
язык SQL-запросов.

Версия 1.2 \PM{} работает с файлами формата JPG, JPEG (в дальнейшем
планируется расширение этого списка).

Различаются две версии программы: <<редакторская>> (с возможностями
редактирования структуры фотоархива и метаданных изображений,
загрузки новых изображений в базу данных) и <<пользовательская>>
(вышеописанные функции отключены), используемая только для
просмотра, поиска нужных изображений.

Жизненный цикл изображений, с которыми работает \PM, выглядит
следующим образом:

\begin{itemize}
    \item Загрузка изображений в базу данных. В результате этого
    действия в базе данных создается две копии исходного изображения
    (называемого \textit{оригиналом}): полная (будем называть ее
    \textit{крупным, или полным, предпросмотром}) и уменьшенная
    (назовем ее \textit{малым предпросмотром}). После загрузки
    изображения программа логически \textit{больше на связана с
    оригиналом}.
    \item Работа с изображениями: присвоение рубрик, описаний, и
    тому подобное, для облегчения поиска пользователями системы
    нужной информации: изображений, метаданных и т.д.
    \item При необходимости~--- выгрузка (сохранение на локальную
    машину) полной версии изображения (изображений).
\end{itemize}

\subsection{Разделение <<оригинал-копия>>}

Следует подчеркнуть, что базу данных изображений следует
рассматривать \textit{не как хранилище оригиналов изображений}. База
данных больше подходит под определение хранилища \textit{копий}
оригиналов, и именно к \textit{копиям} оригиналов применяются
операции рубрикации, каталогизации и тому подобное.

Мотивация разделения <<оригинал-копия>> такова, что часто при
профессиональной работе с изображениями оригинал представляет собой
файл (чаще всего RAW-формата) большого размера и потому хранится на
каком-либо внешнем носителе (например, DVD-диске, внешнем HDD и тому
подобное). В таком случае, естественно, довольно трудно обеспечить к
нему быстрый доступ.

Разделение <<оригинал-копия>> строится на том принципе, что
\textit{быстрый доступ к исходному файлу и не нужен}~---
пользователей фотоархива при поиске нужных им фотографий в первую
очередь интересует, как правило цветовая гамма, композиция, лица,
изображенные на фотографии. Передачу всей этой информации вполне
может обеспечить облегченная копия фотографии! И только после того,
как нужная фотография найдена (т.е. \PM{} выполнил свою работу), у
пользователя возникает необходимость получить оригинал.

Исходя из всего этого, становится ясно, что достаточно хранить в
базе данных копии оригиналов, при этом \PM{} не интересуется тем,
что происходит с самим оригиналом (последний может быть изменен,
перемещен или вообще удален~--- его копия в базе данных продолжит
жить).
